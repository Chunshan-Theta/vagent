# 中文代理 RAG 服务使用指南

本文档介绍了如何在中文代理中使用 RAG (Retrieval-Augmented Generation) 服务来回答关于员工评估标准的问题。

## 功能概述

中文代理现在可以使用 RAG 服务来搜索和回答关于员工评估标准的问题。当用户询问关于员工评估标准的问题时，代理会自动使用 RAG 服务来搜索相关信息，并提供详细的回答。

## 使用方法

### 示例查询

以下是一些示例查询，代理会使用 RAG 服务来回答：

- "什么是优秀的领导能力？"
- "如何评估沟通能力？"
- "问题解决能力的评估标准是什么？"
- "工作效率的评估标准有哪些？"
- "客户服务的评估标准是什么？"

### 代理如何工作

1. 当用户询问关于员工评估标准的问题时，代理会使用 `ragSearch` 工具来搜索相关信息
2. 代理会根据搜索结果提供详细的回答
3. 回答会包含评估标准的三个级别：优秀、良好和需要改进

## 技术实现

### RAG 服务

RAG 服务使用向量相似度搜索来找到与查询最相关的文档。目前，服务使用随机向量作为嵌入，仅用于演示目的。在生产环境中，应使用适当的嵌入模型（如 OpenAI 的 text-embedding-3-small）。

### 代理工具

代理使用 `ragSearch` 工具来搜索文档。工具的参数包括：

- `query`: 搜索查询，例如："领导能力"、"沟通能力"等
- `topK`: 返回结果数量，默认为 3

### API 路由

RAG 服务通过 `/api/rag` API 路由提供。API 支持以下操作：

- `search`: 搜索文档
- `getAllDocuments`: 获取所有文档

## 测试

可以使用以下命令测试 RAG 服务与代理的集成：

```bash
npx ts-node src/app/scripts/testRagWithAgent.ts
```

## 注意事项

- 当前实现使用随机向量作为嵌入，仅用于演示目的
- 在生产环境中，应使用适当的嵌入模型
- 文件操作使用 Node.js 的 fs 模块，确保在适当的环境中运行 